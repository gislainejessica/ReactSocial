{"ast":null,"code":"var _jsxFileName = \"/home/gislaine/ReactSocial/src/pages/registro.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport logo from '../images/icon.png';\nconst styles = {\n  form: {\n    textAlign: 'center'\n  },\n  image: {\n    margin: '20px auto 20px auto'\n  },\n  button: {\n    marginTop: 20,\n    position: \"relative\"\n  },\n  title: {\n    margin: '10px auto 10px auto'\n  },\n  textField: {\n    margin: '10px auto 10px auto'\n  },\n  custonError: {\n    color: 'red',\n    fontSize: '0.8rem',\n    marginTop: '10px'\n  },\n  progress: {\n    position: \"absolute\"\n  }\n};\n\nclass registro extends Component {\n  constructor() {\n    super();\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        loading: true\n      });\n      const novoDados = {\n        email: this.state.email,\n        senha: this.state.password,\n        confirma: this.state.confirmPassword,\n        handle: this.state.handle\n      };\n      axios.post('/registrar', novoDados).then(res => {\n        console.log(res.data);\n        localStorage.setItem('FBidToken', \"Bearer \".concat(res.data.token));\n        this.setState({\n          loading: false\n        });\n        this.props.history.push('/');\n      }).catch(erro => {\n        this.setState({\n          error: erro.response.data,\n          loading: false\n        });\n      });\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.state = {\n      email: '',\n      password: '',\n      confirmPassword: '',\n      handle: '',\n      loading: false,\n      erros: {}\n    };\n  }\n\n  render() {\n    const classes = this.props.classes;\n    const _this$state = this.state,\n          erros = _this$state.erros,\n          loading = _this$state.loading;\n    return React.createElement(Grid, {\n      container: true,\n      className: classes.form,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      alt: \"imagen\",\n      className: classes.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      variant: \"h2\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Registrar\"), React.createElement(\"form\", {\n      noValidate: true,\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"email\",\n      name: \"email\",\n      type: \"email\",\n      label: \"Email\",\n      className: classes.testField,\n      helperText: erros.email,\n      error: erros.email ? true : false,\n      value: this.state.email,\n      onChange: this.handleChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"password\",\n      name: \"password\",\n      type: \"password\",\n      label: \"Senha\",\n      className: classes.testField,\n      helperText: erros.senha,\n      error: erros.senha ? true : false,\n      value: this.state.password,\n      onChange: this.handleChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"confirmPassword\",\n      name: \"confirmPassword\",\n      type: \"password\",\n      label: \"Confirma Senha\",\n      className: classes.testField,\n      helperText: erros.confirmPassword,\n      error: erros.confirmPassword ? true : false,\n      value: this.state.confirmPassword,\n      onChange: this.handleChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      id: \"handle\",\n      name: \"handle\",\n      type: \"text\",\n      label: \"Handle\",\n      className: classes.testField,\n      helperText: erros.handle,\n      error: erros.handle ? true : false,\n      value: this.state.handle,\n      onChange: this.handleChange,\n      fullWidth: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), erros.general && React.createElement(Typography, {\n      variant: \"body2\",\n      className: classes.custonError,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \" \", erros.general, \" \"), React.createElement(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      className: classes.button,\n      disabled: loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Registre-se\", loading && React.createElement(CircularProgress, {\n      size: 30,\n      className: classes.progress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \" N\\xE3o tem uma conta? registre-se \", React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"  Aqui \"), \" \"))), React.createElement(Grid, {\n      item: true,\n      sm: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }));\n  }\n\n}\n\nregistro.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(registro);","map":{"version":3,"sources":["/home/gislaine/ReactSocial/src/pages/registro.js"],"names":["React","Component","Link","axios","PropTypes","Typography","TextField","Button","withStyles","CircularProgress","Grid","logo","styles","form","textAlign","image","margin","button","marginTop","position","title","textField","custonError","color","fontSize","progress","registro","constructor","handleSubmit","event","preventDefault","setState","loading","novoDados","email","state","senha","password","confirma","confirmPassword","handle","post","then","res","console","log","data","localStorage","setItem","token","props","history","push","catch","erro","error","response","handleChange","target","name","value","erros","render","classes","testField","general","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport logo from '../images/icon.png';\n\nconst styles = {\n  form: {\n    textAlign: 'center',\n  },\n  image:{\n    margin:'20px auto 20px auto'\n  },\n  button: {\n    marginTop: 20,\n    position: \"relative\"\n  },\n  title: {\n    margin:'10px auto 10px auto'\n  },\n  textField: {\n    margin:'10px auto 10px auto'\n  }, \n  custonError: {\n    color:'red',\n    fontSize: '0.8rem',\n    marginTop: '10px',\n  },\n  progress: {\n    position: \"absolute\"\n  }\n}\n\nclass registro extends Component {\n  constructor(){\n    super()\n    this.state ={\n      email:'',\n      password:'',\n      confirmPassword:'',\n      handle:'',\n      loading: false,\n      erros:{},\n    }\n  }\n  handleSubmit = (event) =>{\n    event.preventDefault();\n    this.setState({\n      loading : true\n    })\n    const novoDados = {\n      email: this.state.email,\n      senha: this.state.password,\n      confirma: this.state.confirmPassword,\n      handle: this.state.handle\n    }\n    axios.post('/registrar', novoDados)\n      .then(res => {\n        console.log(res.data)\n        localStorage.setItem('FBidToken', `Bearer ${res.data.token}`)\n        this.setState({\n          loading : false\n        })\n        this.props.history.push('/')\n      })\n      .catch(erro => {\n        this.setState({\n          error: erro.response.data,\n          loading: false\n        })\n      })\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name] : event.target.value\n    })\n  }\n  render() {\n    const {classes} = this.props\n    const {erros, loading} = this.state\n    return (\n      <Grid container className = {classes.form} >\n        <Grid item sm />\n        <Grid item sm >\n          <img src = {logo} alt =\"imagen\" className = {classes.image}/>\n          <Typography variant = \"h2\" className = {classes.title}>\n            Registrar\n          </Typography>\n          <form noValidate onSubmit = {this.handleSubmit}>\n            <TextField id = 'email' name ='email' type = 'email' label = 'Email' className = {classes.testField} \n                helperText = {erros.email} error = {erros.email ? true: false} \n                value = {this.state.email} onChange = {this.handleChange} fullWidth/>\n\n             <TextField id = 'password' name = 'password' type = 'password' \n                label ='Senha' className = {classes.testField} \n                helperText = {erros.senha} error = {erros.senha ? true: false} \n                value = {this.state.password} onChange = {this.handleChange} fullWidth/>\n\n            <TextField id = 'confirmPassword' name = 'confirmPassword' type = 'password' \n                label ='Confirma Senha' className = {classes.testField} \n                helperText = {erros.confirmPassword} error = {erros.confirmPassword ? true: false} \n                value = {this.state.confirmPassword} onChange = {this.handleChange} fullWidth/>\n\n             <TextField id = 'handle' name = 'handle' type = 'text' \n                label ='Handle' className = {classes.testField} \n                helperText = {erros.handle} error = {erros.handle ? true: false} \n                value = {this.state.handle} onChange = {this.handleChange} fullWidth/>\n\n            {erros.general && (\n              <Typography variant = 'body2' className = {classes.custonError}> {erros.general} </Typography>\n            )}\n            <Button type = 'submit' variant = 'contained' color = \"primary\" \n                className = {classes.button} disabled = {loading}>  \n                Registre-se            \n                 {loading && (<CircularProgress size = {30}className = {classes.progress}/>)}\n            </Button>\n            <br/>\n            <small> NÃ£o tem uma conta? registre-se <Link to = \"/login\">  Aqui </Link> </small>\n          </form>\n        </Grid>\n        <Grid item sm />\n      </Grid>\n    )\n  }\n}\nregistro.propTypes = {\n  classes: PropTypes.object.isRequired\n}\nexport default withStyles(styles)(registro);\n"]},"metadata":{},"sourceType":"module"}